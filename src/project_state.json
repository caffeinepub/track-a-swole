{
  "schemaVersion": "1.0.0",
  "projectStateVersion": 21,
  "summary": "Track-A-Swole: A workout tracking app to replace spreadsheets. Features include a custom exercise library where users can create exercise templates with default values for 3 sets (weight, reps, and comments per set), workout sessions where users select exercises from the library and edit the pre-populated values as they perform them, a 'done' button to add completed exercises to the session history, and workout history to view past sessions. Dark theme with modern design.",
  "architectural_notes": [
    "Workout sessions should store date, name, and array of exercises with set/weight/rep data",
    "Each exercise in a session has exactly 3 sets (fixed), but weight and reps are adjustable per set",
    "Exercise library templates should store: exercise name, and for each of 3 sets: default weight, default reps, and default comments",
    "Workout session flow: select exercise from library → defaults pre-populate → user edits actual values → click 'done' → adds to session history",
    "Workout session saving: Single 'Save Session' button saves entire session with all exercises to history at once (not individual exercise 'done' buttons)",
    "History view structure: List of workout sessions (date/name) → expandable to show exercises → expandable to show set details (weight/reps/comments)",
    "After saving a session via 'Save Session' button, the active workout should be cleared/reset to allow starting a new session",
    "Active workout session state should persist across page refreshes using localStorage or similar mechanism",
    "Implement Internet Identity authentication to enable user-specific data storage and persistence",
    "Backend must associate all workout data (exercise library, workout history) with authenticated user Principal ID"
  ],
  "known_issues": [],
  "isFixRequest": true,
  "existing_features": [
    {
      "id": "feature-create-an-exercise-library-management-system-where-users-can-add-new-exercises-with-a-name-field-edit-existing-exercise-names-and-delete-exercises-from-the-library",
      "title": "Create an exercise library management system where users can add new exercises with a name field, edit existing exercise names, and delete exercises from the library",
      "reqIds": [
        "REQ-1"
      ],
      "version": 1
    },
    {
      "id": "feature-implement-workout-session-creation-where-users-can-name-sessions-using-a-date-based-format-e-g-gym-day-upper-2-25-2026-add-multiple-exercises-from-the-library-to-a-session-reorder-exercises-within-a-session-and-remove-exercises-from-a-session",
      "title": "Implement workout session creation where users can name sessions using a date-based format (e.g., 'Gym Day Upper 2/25/2026'), add multiple exercises from the library to a session, reorder exercises within a session, and remove exercises from a session",
      "reqIds": [
        "REQ-2"
      ],
      "version": 1
    },
    {
      "id": "feature-build-exercise-tracking-interface-where-each-exercise-in-a-session-can-be-expanded-to-show-exactly-3-sets-with-each-set-having-editable-weight-and-reps-fields-plus-a-single-comments-text-field-for-the-entire-exercise",
      "title": "Build exercise tracking interface where each exercise in a session can be expanded to show exactly 3 sets, with each set having editable weight and reps fields, plus a single comments text field for the entire exercise",
      "reqIds": [
        "REQ-3"
      ],
      "version": 1
    },
    {
      "id": "feature-create-a-workout-history-tab-that-displays-all-past-workout-sessions-with-their-names-and-dates-allowing-users-to-view-the-details-of-each-completed-session-including-exercises-performed-weights-used-reps-completed-and-comments",
      "title": "Create a workout history tab that displays all past workout sessions with their names and dates, allowing users to view the details of each completed session including exercises performed, weights used, reps completed, and comments",
      "reqIds": [
        "REQ-4"
      ],
      "version": 1
    },
    {
      "id": "feature-design-and-implement-a-dark-theme-with-a-distinctive-visual-style-choosing-a-creative-color-palette-avoiding-blue-and-purple-typography-and-layout-that-creates-a-cohesive-modern-aesthetic-throughout-the-application",
      "title": "Design and implement a dark theme with a distinctive visual style, choosing a creative color palette (avoiding blue and purple), typography, and layout that creates a cohesive, modern aesthetic throughout the application",
      "reqIds": [
        "REQ-5"
      ],
      "version": 1
    },
    {
      "id": "feature-update-the-addexerciseform-component-in-frontend-src-components-addexerciseform-tsx-to-include-input-fields-for-exercise-name-and-for-each-of-3-sets-weight-and-reps-fields-plus-a-single-comments-text-area-for-the-entire-exercise",
      "title": "Update the AddExerciseForm component in frontend/src/components/AddExerciseForm.tsx to include input fields for Exercise Name, and for each of 3 sets: weight and reps fields, plus a single comments text area for the entire exercise",
      "reqIds": [
        "REQ-7"
      ],
      "version": 1
    },
    {
      "id": "feature-modify-the-exercisepicker-component-in-frontend-src-components-exercisepicker-tsx-and-session-creation-flow-to-pre-populate-selected-exercises-with-their-template-default-values-3-sets-with-weight-reps-and-comments-when-adding-them-to-a-workout-session",
      "title": "Modify the ExercisePicker component in frontend/src/components/ExercisePicker.tsx and session creation flow to pre-populate selected exercises with their template default values (3 sets with weight, reps, and comments) when adding them to a workout session",
      "reqIds": [
        "REQ-8"
      ],
      "version": 1
    },
    {
      "id": "feature-update-exercisetracker-component-in-frontend-src-components-exercisetracker-tsx-to-display-pre-populated-template-values-and-allow-editing-during-the-workout-with-a-done-button-that-marks-the-exercise-as-completed-and-adds-it-to-the-current-session-s-history",
      "title": "Update ExerciseTracker component in frontend/src/components/ExerciseTracker.tsx to display pre-populated template values and allow editing during the workout, with a 'Done' button that marks the exercise as completed and adds it to the current session's history",
      "reqIds": [
        "REQ-9"
      ],
      "version": 1
    },
    {
      "id": "feature-update-exerciselistitem-component-in-frontend-src-components-exerciselistitem-tsx-to-display-exercise-templates-with-their-default-set-values-weight-reps-for-each-of-3-sets-and-comments-in-the-exercise-library-view-and-support-inline-editing-of-template-defaults",
      "title": "Update ExerciseListItem component in frontend/src/components/ExerciseListItem.tsx to display exercise templates with their default set values (weight, reps for each of 3 sets, and comments) in the exercise library view, and support inline editing of template defaults",
      "reqIds": [
        "REQ-10"
      ],
      "version": 1
    },
    {
      "id": "feature-add-weight-and-reps-as-column-headers-above-the-three-set-input-rows-in-the-addexerciseform-component-frontend-src-components-addexerciseform-tsx-used-for-creating-and-editing-exercise-templates-in-the-exercise-library",
      "title": "Add 'Weight' and 'Reps' as column headers above the three set input rows in the AddExerciseForm component (frontend/src/components/AddExerciseForm.tsx) used for creating and editing exercise templates in the exercise library",
      "reqIds": [
        "REQ-11"
      ],
      "version": 1
    },
    {
      "id": "feature-add-weight-and-reps-as-column-headers-above-the-three-set-input-rows-in-the-exercisetracker-component-frontend-src-components-exercisetracker-tsx-used-during-active-workout-session-tracking",
      "title": "Add 'Weight' and 'Reps' as column headers above the three set input rows in the ExerciseTracker component (frontend/src/components/ExerciseTracker.tsx) used during active workout session tracking",
      "reqIds": [
        "REQ-12"
      ],
      "version": 1
    },
    {
      "id": "feature-remove-the-done-button-from-the-exercisetracker-component-in-frontend-src-components-exercisetracker-tsx",
      "title": "Remove the 'Done' button from the ExerciseTracker component in frontend/src/components/ExerciseTracker.tsx",
      "reqIds": [
        "REQ-13"
      ],
      "version": 1
    },
    {
      "id": "feature-add-a-single-save-session-button-to-the-activeworkout-page-in-frontend-src-pages-activeworkout-tsx-that-saves-the-entire-workout-session-with-all-exercises-and-their-entered-set-data-weight-reps-comments-to-history",
      "title": "Add a single 'Save Session' button to the ActiveWorkout page in frontend/src/pages/ActiveWorkout.tsx that saves the entire workout session with all exercises and their entered set data (weight, reps, comments) to history",
      "reqIds": [
        "REQ-14"
      ],
      "version": 1
    },
    {
      "id": "feature-update-the-completesession-mutation-in-frontend-src-hooks-usequeries-ts-to-properly-save-workout-sessions-to-backend-and-invalidate-the-history-query-cache",
      "title": "Update the completeSession mutation in frontend/src/hooks/useQueries.ts to properly save workout sessions to backend and invalidate the history query cache",
      "reqIds": [
        "REQ-16"
      ],
      "version": 1
    },
    {
      "id": "feature-fix-the-exercisepicker-component-in-frontend-src-components-exercisepicker-tsx-so-that-clicking-the-add-button-successfully-adds-the-selected-exercise-from-the-library-to-the-active-draft-workout-session",
      "title": "Fix the ExercisePicker component in frontend/src/components/ExercisePicker.tsx so that clicking the 'Add' button successfully adds the selected exercise from the library to the active draft workout session",
      "reqIds": [
        "REQ-17"
      ],
      "version": 1
    },
    {
      "id": "feature-verify-the-createsession-page-in-frontend-src-pages-createsession-tsx-correctly-handles-the-state-update-when-exercises-are-added-through-the-exercisepicker-ensuring-the-sessionexerciselist-component-displays-newly-added-exercises",
      "title": "Verify the CreateSession page in frontend/src/pages/CreateSession.tsx correctly handles the state update when exercises are added through the ExercisePicker, ensuring the SessionExerciseList component displays newly added exercises",
      "reqIds": [
        "REQ-18"
      ],
      "version": 1
    },
    {
      "id": "feature-fix-the-add-exercise-template-button-in-the-addexerciseform-component-frontend-src-components-addexerciseform-tsx-so-that-clicking-it-successfully-saves-the-new-exercise-template-with-name-default-set-values-weight-and-reps-for-3-sets-and-comments-to-the-exercise-library-via-the-backend-then-closes-the-modal-dialog",
      "title": "Fix the 'Add Exercise Template' button in the AddExerciseForm component (frontend/src/components/AddExerciseForm.tsx) so that clicking it successfully saves the new exercise template with name, default set values (weight and reps for 3 sets), and comments to the Exercise Library via the backend, then closes the modal dialog",
      "reqIds": [
        "REQ-19"
      ],
      "version": 1
    },
    {
      "id": "feature-fix-the-workouthistory-page-in-frontend-src-pages-workouthistory-tsx-to-properly-fetch-and-display-saved-workout-sessions-from-the-backend-using-the-gethistory-query-hook",
      "title": "Fix the WorkoutHistory page in frontend/src/pages/WorkoutHistory.tsx to properly fetch and display saved workout sessions from the backend using the getHistory query hook",
      "reqIds": [
        "REQ-20"
      ],
      "version": 1
    },
    {
      "id": "feature-verify-the-gethistory-query-hook-in-frontend-src-hooks-usequeries-ts-is-correctly-calling-the-backend-s-gethistory-method-and-properly-transforming-the-returned-data",
      "title": "Verify the getHistory query hook in frontend/src/hooks/useQueries.ts is correctly calling the backend's getHistory method and properly transforming the returned data",
      "reqIds": [
        "REQ-21"
      ],
      "version": 1
    },
    {
      "id": "feature-fix-the-completesession-mutation-in-frontend-src-hooks-usequeries-ts-to-properly-handle-the-session-completion-flow-without-throwing-errors-when-marking-sessions-as-completed",
      "title": "Fix the completeSession mutation in frontend/src/hooks/useQueries.ts to properly handle the session completion flow without throwing errors when marking sessions as completed",
      "reqIds": [
        "REQ-22"
      ],
      "version": 1
    },
    {
      "id": "feature-update-the-activeworkout-page-in-frontend-src-pages-activeworkout-tsx-to-clear-the-active-workout-session-state-after-successfully-saving-via-the-save-session-button",
      "title": "Update the ActiveWorkout page in frontend/src/pages/ActiveWorkout.tsx to clear the active workout session state after successfully saving via the 'Save Session' button",
      "reqIds": [
        "REQ-23"
      ],
      "version": 1
    },
    {
      "id": "feature-update-the-activeworkout-page-in-frontend-src-pages-activeworkout-tsx-to-persist-the-current-workout-session-state-session-name-selected-exercise-ids-and-all-entered-set-data-including-weight-reps-and-comments-for-each-exercise-to-localstorage-whenever-any-data-changes",
      "title": "Update the ActiveWorkout page in frontend/src/pages/ActiveWorkout.tsx to persist the current workout session state (session name, selected exercise IDs, and all entered set data including weight, reps, and comments for each exercise) to localStorage whenever any data changes",
      "reqIds": [
        "REQ-25"
      ],
      "version": 1
    },
    {
      "id": "feature-update-the-activeworkout-page-in-frontend-src-pages-activeworkout-tsx-to-restore-the-persisted-workout-session-state-from-localstorage-on-component-mount-if-available-prioritizing-localstorage-data-over-url-params-when-both-exist",
      "title": "Update the ActiveWorkout page in frontend/src/pages/ActiveWorkout.tsx to restore the persisted workout session state from localStorage on component mount if available, prioritizing localStorage data over URL params when both exist",
      "reqIds": [
        "REQ-26"
      ],
      "version": 1
    },
    {
      "id": "feature-update-the-activeworkout-page-in-frontend-src-pages-activeworkout-tsx-to-clear-the-persisted-session-data-from-localstorage-after-the-save-session-button-successfully-saves-the-workout-to-the-backend",
      "title": "Update the ActiveWorkout page in frontend/src/pages/ActiveWorkout.tsx to clear the persisted session data from localStorage after the 'Save Session' button successfully saves the workout to the backend",
      "reqIds": [
        "REQ-27"
      ],
      "version": 1
    },
    {
      "id": "feature-create-a-login-page-component-that-displays-when-user-is-not-authenticated-prompting-them-to-sign-in-with-internet-identity-and-providing-a-login-button-that-initiates-the-authentication-flow",
      "title": "Create a login page component that displays when user is not authenticated, prompting them to sign in with Internet Identity and providing a login button that initiates the authentication flow",
      "reqIds": [
        "REQ-28"
      ],
      "version": 1
    },
    {
      "id": "feature-update-the-layout-component-in-frontend-src-components-layout-tsx-to-conditionally-render-main-app-navigation-only-for-authenticated-users-and-display-login-prompt-for-unauthenticated-users",
      "title": "Update the Layout component in frontend/src/components/Layout.tsx to conditionally render main app navigation only for authenticated users, and display login prompt for unauthenticated users",
      "reqIds": [
        "REQ-29"
      ],
      "version": 1
    },
    {
      "id": "feature-add-a-logout-button-to-the-layout-component-header-that-allows-authenticated-users-to-sign-out-and-return-to-the-login-page",
      "title": "Add a logout button to the Layout component header that allows authenticated users to sign out and return to the login page",
      "reqIds": [
        "REQ-30"
      ],
      "version": 1
    }
  ],
  "new_feature_requests": [
    {
      "id": "AR-2",
      "summary": "Create workout sessions named by date with multiple exercises",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-3",
      "summary": "Exercise tracking: 3 sets with adjustable weight and reps per set, plus comments field",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-4",
      "summary": "Workout history tab to view past sessions",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-5",
      "summary": "Dark theme with modern design",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-6",
      "summary": "Ability to reorder and remove exercises in a session",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-7",
      "summary": "Exercise library should store templates with default values for 3 sets (weight/reps/comments per set) instead of just exercise names",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-8",
      "summary": "When adding exercise to workout session, pre-populate with template defaults that are editable during the workout",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-10",
      "summary": "Modify the Exercise data model in backend/main.mo to store exercise templates with default values for 3 sets, where each set includes weight (Nat), reps (Nat), and a single comments field (Text) for the entire exercise",
      "reqIds": [
        "REQ-6"
      ],
      "status": "pending"
    },
    {
      "id": "AR-11",
      "summary": "Add 'Weight' and 'Reps' column headers above the 3 sets in both exercise template view and workout session tracking view",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-12",
      "summary": "Remove individual 'Done' button from exercises and add a single 'Save Session' button to save entire workout session with all exercises to history",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-13",
      "summary": "Display workout history as a list of sessions with dates/names that can be expanded to show exercises and set details within each session",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-16",
      "summary": "Update the WorkoutHistory page in frontend/src/pages/WorkoutHistory.tsx to properly fetch and display saved workout sessions as a list using the existing HistorySessionCard component",
      "reqIds": [
        "REQ-15"
      ],
      "status": "pending"
    },
    {
      "id": "AR-19",
      "summary": "Verify that saved workout sessions appear in the WorkoutHistory page (frontend/src/pages/WorkoutHistory.tsx) after the completeSession mutation executes successfully",
      "reqIds": [
        "REQ-24"
      ],
      "status": "pending"
    },
    {
      "id": "AR-20",
      "summary": "Implement session state persistence so active workout data survives page refreshes",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-21",
      "summary": "Implement Internet Identity (IID) authentication with login page supporting passkeys, Google, Apple, or Microsoft login methods",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-22",
      "summary": "Associate workout data (exercise library and workout history) with authenticated user identity in backend storage",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-26",
      "summary": "Modify the backend Exercise data structure in backend/main.mo to associate each exercise template with the user's Principal ID, ensuring exercises are stored per-user rather than globally",
      "reqIds": [
        "REQ-31"
      ],
      "status": "pending"
    },
    {
      "id": "AR-27",
      "summary": "Modify the backend WorkoutSession data structure in backend/main.mo to associate each workout session with the user's Principal ID, ensuring workout history is stored per-user rather than globally",
      "reqIds": [
        "REQ-32"
      ],
      "status": "pending"
    },
    {
      "id": "AR-28",
      "summary": "Update all backend methods in backend/main.mo (addExercise, editExercise, deleteExercise, getExercises, createSession, completeSession, getHistory) to use the caller's Principal for data isolation, ensuring each authenticated user only accesses their own data",
      "reqIds": [
        "REQ-33"
      ],
      "status": "pending"
    },
    {
      "id": "AR-29",
      "summary": "Update frontend query hooks in frontend/src/hooks/useQueries.ts to handle authentication requirements, ensuring backend calls only execute when user is authenticated and actor is available",
      "reqIds": [
        "REQ-34"
      ],
      "status": "pending"
    }
  ],
  "gameProjectType": "none",
  "projectName": "Track-A-Swole",
  "clarification_mode": "instant",
  "clarification_rounds": 0
}